'use client'

import InfoCard from "@/components/InfoCard";
import Map from "@/components/Map";
import { useSearchParams } from "next/navigation"

export default function Search({ params }) {
  const searchParams = useSearchParams();
  const searchResults =
  [
    {
      "type": "singleEntry",
      "ident": "divesite",
      "data": {
        "properties": {
          "id": "342849",
          "name": "Nagato",
          "lat": "11.5779",
          "lng": "165.5327",
          "loggedDives": "0",
          "averageRating": "0",
          "loggedUsers": "0",
          "averageMaxDepth": "0",
          "averageDivetime": "0",
          "averageVis": "0",
          "distanceToCenter": "1273.77",
          "images": {
            "type": "mediaCollection",
            "ident": "images",
            "elements": [
              {
                "type": "image",
                "thumbnail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_04_Aqualung.jpg\/small",
                "detail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_04_Aqualung.jpg\/large",
                "copyright": "Aqualung"
              }
            ]
          },
          "URL": "\/mydiveguide\/divesite\/342849"
        },
        "text": {
          "description1": "Nagato. was a super-dreadnought battleship built for the Imperial Japanese Navy (IJN). Completed in 1920 and was a length of 201.17 meters. In 1946, the ship was a target for nuclear weapon tests during Operation Crossroads.",
          "description2": "The wreck is upside down and her most prominent features are her four propellers, at a depth of 33.5 meters. It makes for an excellent Technical Wreck dive.",
          "description3": ""
        },
        "_text_META": {
          "description1": "site_descr1_342849",
          "description2": "site_descr2_342849",
          "description3": "site_descr3_342849"
        }
      }
    },
    {
      "type": "singleEntry",
      "ident": "divesite",
      "data": {
        "properties": {
          "id": "342846",
          "name": "USS Saratoga",
          "lat": "11.5462",
          "lng": "165.5412",
          "loggedDives": "0",
          "averageRating": "0",
          "loggedUsers": "0",
          "averageMaxDepth": "0",
          "averageDivetime": "0",
          "averageVis": "0",
          "distanceToCenter": "1274.53",
          "images": {
            "type": "mediaCollection",
            "ident": "images",
            "elements": [
              {
                "type": "image",
                "thumbnail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_04_Aqualung.jpg\/small",
                "detail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_04_Aqualung.jpg\/large",
                "copyright": "Aqualung"
              }
            ]
          },
          "URL": "\/mydiveguide\/divesite\/342846"
        },
        "text": {
          "description1": "USS Saratoga (CV-3) was an aircraft carrier built for the US Navy in the 1920\u2019s. She was surplus to postwar requirements and was assigned to Operation Crossroads in 1946. Operation Crossroads was a test conducted at Bikini Atoll to evaluate the effect of the atomic bomb on ships.",
          "description2": "The wreck lies between 18 - 52 meters, and is home to many kinds of corals and fish species. This is a great Technical Wreck dive.",
          "description3": ""
        },
        "_text_META": {
          "description1": "site_descr1_342846",
          "description2": "site_descr2_342846",
          "description3": "site_descr3_342846"
        }
      }
    },
    {
      "type": "singleEntry",
      "ident": "divesite",
      "data": {
        "properties": {
          "id": "301679",
          "name": "Trade Me Reef",
          "lat": "36.2813",
          "lng": "174.4889",
          "loggedDives": "32",
          "averageRating": "5",
          "loggedUsers": "19",
          "averageMaxDepth": "16",
          "averageDivetime": "36",
          "averageVis": "7",
          "distanceToCenter": "2204.17",
          "images": {
            "type": "mediaCollection",
            "ident": "images",
            "elements": [
              {
                "type": "image",
                "thumbnail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_01_Mares.jpg\/small",
                "detail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_01_Mares.jpg\/large",
                "copyright": "Mares"
              }
            ]
          },
          "URL": "\/mydiveguide\/divesite\/301679"
        },
        "text": {
          "description1": "This dive site is clearly marked by the cardinal boating marker on the rock. Anchor in the sheltered inlet on the main island in approx 6m depth. Short swim to the island can be made underwater on NW heading. The reef will drop to the bottom at about 11m and a short gap in the reef to the rock on a sand bottom.",
          "description2": "Many swim through and large shoals of fish life, including kingfish. Lots of octopus dens on the sand.",
          "description3": "The rock is largely boulders on the southern face with plenty of gaps and swim through. North face has a large shelf that drops sharply to 22m. Current can be present in the channel but not usually an issue, boats use this channel to access sandspit ."
        },
        "_text_META": {
          "description1": "site_descr1_301679",
          "description2": "site_descr2_301679",
          "description3": "site_descr3_301679"
        }
      }
    },
    {
      "type": "singleEntry",
      "ident": "divesite",
      "data": {
        "properties": {
          "id": "76063",
          "name": "Lehau ",
          "lat": "22.0107",
          "lng": "-160.0958",
          "loggedDives": "28",
          "averageRating": "5",
          "loggedUsers": "23",
          "averageMaxDepth": "21",
          "averageDivetime": "49",
          "averageVis": "29",
          "distanceToCenter": "2559.73",
          "images": {
            "type": "mediaCollection",
            "ident": "images",
            "elements": [
              {
                "type": "image",
                "thumbnail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_07_Mares.jpg\/small",
                "detail": "https:\/\/my.divessi.com\/img_repository\/website\/8_mydiveguide\/default-dive-sites\/Dive_Site_07_Mares.jpg\/large",
                "copyright": "Mares"
              }
            ]
          },
          "URL": "\/mydiveguide\/divesite\/76063"
        },
        "text": {
          "description1": "Diving Lehua Crater offers underwater erosional sea caves and arches that will blow your mind. It is the only dive destination in the world where you have an excellent chance to swim with the most endangered marine mammals in U.S. waters, the Hawaiian monk seal.",
          "description2": "If you\u2019re lucky, you\u2019ll see the endangered Hawaiian Monk seal along with all they typical Hawaiian reef fish and whitetip reef sharks hidden in the rocks.",
          "description3": ""
        },
        "_text_META": {
          "description1": "site_descr1_76063",
          "description2": "site_descr2_76063",
          "description3": "site_descr3_76063"
        }
      }
    },
  ]
  return (
    <main className="flex">
      <section className="flex-grow p5-14 px-6">
        <p className="text-xs">300+ Sites found in {searchParams.get('location')}</p>

        <h1 className="text-3xl font-semibold mt-2 mb-6">Find Mantas here</h1>
        <div className="hidden md:inline-flex mb-5 space-x-3 text-gray-800 whitespace-nowrap">
          <p className="button">Live aboard</p>
          <p className="button">Sort by rating</p>
          <p className="button">Beginner friendly</p>
        </div>
        <div>
          {searchResults.map(({ data }, index) => (
            <InfoCard
              data={data}
              key={index}
            />
          ))}
        </div>
      </section>
      {/* map */}
      <section className="hidden lg:inline-flex lg:min-w-[600px] overflow:hidden lg:h-[90vh] lg:max-h-[1%]">
        <Map />
      </section>
    </main>
  )
}